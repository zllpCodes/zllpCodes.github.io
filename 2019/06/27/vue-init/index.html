<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!--Description-->
  
  <meta name="description" content="ç”¨äºå­˜æ”¾æŠ€æœ¯å­¦ä¹ çš„æ€»ç»“ã€é˜…è¯»åçš„æ„Ÿæƒ³ä»¥åŠç”Ÿæ´»ä¸­çš„ç‚¹æ»´">
  

  <!--Author-->
  
  <meta name="author" content="Zhang Linlin">
  

  <!--Open Graph Title-->
  
      <meta property="og:title" content="ä»é›¶å¼€å§‹ Webpack 4 é…ç½® Vueé¡¹ç›®">
  
  <!--Open Graph Description-->
  
      <meta property="og:description" content="ç”¨äºå­˜æ”¾æŠ€æœ¯å­¦ä¹ çš„æ€»ç»“ã€é˜…è¯»åçš„æ„Ÿæƒ³ä»¥åŠç”Ÿæ´»ä¸­çš„ç‚¹æ»´">
  
  <!--Open Graph Site Name-->
  <meta property="og:site_name" content="å¼ ç³ç³ä¸ªäººç½‘ç«™">
  <!--Type page-->
  
      <meta property="og:type" content="article">
  
  <!--Page Cover-->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Title -->
  
  <title>ä»é›¶å¼€å§‹ Webpack 4 é…ç½® Vueé¡¹ç›® - å¼ ç³ç³ä¸ªäººç½‘ç«™</title>


  <link rel="shortcut icon" href="https://zhanglinlin-site-1258125238.cos.ap-beijing.myqcloud.com/favicon.ico">

  <!-- Custom CSS/Sass -->
  <link rel="stylesheet" href="/css/style.css">

</head>


<body>

  <!-- Nav -->
  <header class="site-header">
  <div class="header-inside">
    <div class="logo">
      <a href="/" rel="home">
        
        <img src="https://zhanglinlin-site-1258125238.cos.ap-beijing.myqcloud.com/logo.png" alt="å¼ ç³ç³ä¸ªäººç½‘ç«™" height="60">
        
      </a>
    </div>
    <!-- Navigation -->
    <nav class="navbar">
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse">
        <ul class="navbar-nav">
          
          
            <li>
              <a href="/.">
                
                  Home
                
              </a>
            </li>
          
            <li>
              <a href="/archives">
                
                  Archive
                
              </a>
            </li>
          
            <li>
              <a href="/about">
                
                  About
                
              </a>
            </li>
          
        </ul>
      </div>
      <!-- /.navbar-collapse -->
    </nav>
    <div class="button-wrap">
      <button class="menu-toggle">Primary Menu</button>
    </div>
  </div>
</header>


  <!-- Main Content -->
  <div class="content-area">
  <div class="post">
    <!-- Post Content -->
    <div class="container">
      <article>
        <!-- Title date & tags -->
        <div class="post-header">
          <h1 class="entry-title">
            ä»é›¶å¼€å§‹ Webpack 4 é…ç½® Vueé¡¹ç›®
            
          </h1>
          <p class="posted-on">
            
                2019-06-27
            
          </p>
          <div class="tags-links">
            
              
                <a href="/tags/æŠ€æœ¯/" rel="tag">
                  æŠ€æœ¯
                </a>
              
                <a href="/tags/å‰ç«¯/" rel="tag">
                  å‰ç«¯
                </a>
              
            
          </div>
        </div>
        <!-- Post Main Content -->
        <div class="entry-content has_line_number">
          <p>è¶…è¯¦ç»†ï¼<del>çœ‹ä¸æ‡‚å°±æ¥æ¬ä»£ç å¥½äº†ï¼</del> æ€ä¹ˆå¯èƒ½çœ‹ä¸æ‡‚ï½</p>
<a id="more"></a>
<p><em>æˆ‘ä»¬ä¸ç”Ÿäº§ä»£ç ï¼Œæˆ‘ä»¬åªæ˜¯ä»£ç çš„æ¬è¿å·¥ã€‚ â€”â€”é²è¿…</em></p>
<p><a href="https://github.com/zllpCodes/vue-init" target="_blank" rel="noopener">æƒ³è¦è¯¦ç»†ä»£ç æˆ³æˆ‘æˆ³æˆ‘(â—â€™â—¡â€™â—)</a></p>
<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>æ‰“å¼€Terminalå¹¶è·³è½¬åˆ°ä½ å¸Œæœ›çš„ç›®å½•ä¸‹ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚</p>
<pre><code>&gt; mkdir vue-init
</code></pre><p>è¿›å…¥è¯¥ç›®å½•ã€‚</p>
<pre><code>&gt; cd vue-init
</code></pre><p>npm åˆå§‹åŒ–ã€‚<code>-y | --yes</code> é»˜è®¤æ‰€æœ‰é…ç½®é¡¹éƒ½ä¸ºyesã€‚</p>
<pre><code>&gt; npm init -y
</code></pre><h2 id="å®‰è£…webpackç›¸å…³åŒ…"><a href="#å®‰è£…webpackç›¸å…³åŒ…" class="headerlink" title="å®‰è£…webpackç›¸å…³åŒ…"></a>å®‰è£…webpackç›¸å…³åŒ…</h2><p><strong>webpack</strong>ï¼šå‰ç«¯æ‰“åŒ…å·¥å…·<br><strong>webpack-cli</strong>ï¼šåœ¨webpack 3ä¸­ï¼Œwebpackå’ŒCLIéƒ½åœ¨åŒä¸€ä¸ªåŒ…ä¸­ï¼Œä½†åœ¨ç¬¬4ç‰ˆä¸­ï¼Œä¸¤è€…è¢«åˆ†å¼€äº†ï¼Œå› æ­¤è¿™é‡Œå¿…é¡»å®‰è£…CLI<br><strong>webpack-dev-server</strong>ï¼šç”¨äºèµ·ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨<br><strong>webpack-merge</strong>ï¼šç”¨äºåˆå¹¶webpackåŸºç¡€é…ç½®é¡¹</p>
<p><code>-D | --save-dev</code>å°†åŒ…è®°å½•åˆ°<code>&quot;devDependencies&quot;</code>ä¸­ï¼Œ<br><code>-S | --save</code>å°†åŒ…è®°å½•åˆ°<code>&quot;dependencies&quot;</code>ä¸­ï¼Œ<br>ä¸¤è€…çš„åŒºåˆ«å³æ˜¯å¦ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¢«ä½¿ç”¨ã€‚è‹¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦ç”¨åˆ°ï¼Œåˆ™è®°å½•åˆ°dependenciesä¸­ï¼Œåä¹‹åˆ™è®°å½•åˆ°devDependenciesä¸­ã€‚</p>
<pre><code>&gt; npm i webpack webpack-cli webpack-dev-server webpack-merge -D
</code></pre><h2 id="å®‰è£…å…¶ä»–éœ€è¦ç”¨åˆ°çš„åŒ…"><a href="#å®‰è£…å…¶ä»–éœ€è¦ç”¨åˆ°çš„åŒ…" class="headerlink" title="å®‰è£…å…¶ä»–éœ€è¦ç”¨åˆ°çš„åŒ…"></a>å®‰è£…å…¶ä»–éœ€è¦ç”¨åˆ°çš„åŒ…</h2><h3 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h3><p>Vueæ–‡ä»¶è§£æ</p>
<pre><code>&gt; npm i vue-loader vue-template-compiler  -D
</code></pre><p>Vueã€VueRouteråŠAxios</p>
<pre><code>&gt; npm i vue vue-router axios -S
</code></pre><h3 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h3><p>Jsè¯­æ³•è§£æ(å¦‚ES6ã€ES7ç­‰æµè§ˆå™¨æš‚ä¸æ”¯æŒçš„è¯­æ³•)</p>
<pre><code>&gt; npm i @babel/core @babel/preset-env babel-loader -D
</code></pre><p>Jsæ–‡ä»¶å‹ç¼©</p>
<pre><code>&gt; npm i uglifyjs-webpack-plugin -D
</code></pre><h3 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h3><p>Css Loader</p>
<pre><code>&gt; npm i css-loader style-loader -D
</code></pre><p>Sass Loader</p>
<pre><code>&gt; npm i node-sass sass-loader -D
</code></pre><p>Postcss Loder &amp; Autoprefixer</p>
<pre><code>&gt; npm i postcss-loader autoprefixer -D
</code></pre><p>åˆ†ç¦»ã€å‹ç¼©Cssæ–‡ä»¶</p>
<pre><code>&gt; npm i mini-css-extract-plugin optimize-css-assets-webpack-plugin -D
</code></pre><h3 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h3><p>å›¾ç‰‡loader</p>
<pre><code>&gt; npm i file-loader url-loader -D
</code></pre><p>å›¾ç‰‡å‹ç¼©</p>
<pre><code>&gt; npm i image-webpack-loader -D
</code></pre><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>HTMLæ¨¡æ¿è§£æ</p>
<pre><code>&gt; npm i html-webpack-plugin -D
</code></pre><p>æ¸…é™¤distæ–‡ä»¶å¤¹</p>
<pre><code>&gt; npm i clean-webpack-plugin -D
</code></pre><h2 id="é¡¹ç›®ç›®å½•"><a href="#é¡¹ç›®ç›®å½•" class="headerlink" title="é¡¹ç›®ç›®å½•"></a>é¡¹ç›®ç›®å½•</h2><p>ä¸ºä¹‹åè¡Œæ–‡æ–¹ä¾¿ï¼Œåœ¨æ­¤æŠŠé¡¹ç›®å…¨éƒ¨ç›®å½•åˆ—å‡ºæ¥ã€‚<br>å¯ä»¥å…ˆæŠŠåŒåæ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ›å»ºå¥½ï¼Œå å‘ï½</p>
<pre><code>vue-init
|-- build
    |-- webpack.base.js
    |-- webpack.dev.js
    |-- webpack.prod.js
|-- dist
|-- public
    |-- json
        |-- pictureList.json
    |-- index.html
    |-- mocker.js
|-- src
    |-- entry
        |-- index.js
    |-- imgs
    |-- pages
        |-- components
            |-- nav.vue
        |-- App.vue
        |-- Index.vue
        |-- List.vue
    |-- style
        |-- app.scss
        |-- common.scss
        |-- index.scss
        |-- nav.scss
|-- .babelrc
|-- .gitignore
|-- package-lock.json
|-- package.json
|-- postcss.config.js
</code></pre><h2 id="ç¼–å†™webapcké…ç½®"><a href="#ç¼–å†™webapcké…ç½®" class="headerlink" title="ç¼–å†™webapcké…ç½®"></a>ç¼–å†™webapcké…ç½®</h2><p><strong>url-loader</strong>å¯¹æœªè®¾ç½®æˆ–è€…å°äºlimitè®¾ç½®çš„å›¾ç‰‡è¿›è¡Œè½¬æ¢ï¼Œä»¥base64çš„æ ¼å¼è¢«imgçš„srcæ‰€ä½¿ç”¨;è€Œå¯¹äºå¤§äºlimit byteçš„å›¾ç‰‡ç”¨<strong>file-loader</strong>è¿›è¡Œè§£æã€‚<br>å›¾ç‰‡æ‰“åŒ…æˆbase64å¯ä»¥å‡å°‘ç½‘ç»œè¯·æ±‚ï¼Œä½†ä»£ä»·æ˜¯æ ·å¼æ–‡ä»¶å°†å˜å¤§ã€‚<br>å› æ­¤éœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œå–èˆã€‚</p>
<pre><code>// webpack.base.js
// å­˜æ”¾é€šç”¨é…ç½®

const webpack = require(&apos;webpack&apos;),
    path = require(&apos;path&apos;),
    // ç”¨äºè§£ævueæ–‡ä»¶
    VueLoaderPlugin = require(&apos;vue-loader/lib/plugin&apos;),
    // htmlæ–‡ä»¶æ’ä»¶ï¼Œå°†é™æ€æ–‡ä»¶å¼•å…¥htmlä¸­ 
    HTMLWebpackPlugin = require(&apos;html-webpack-plugin&apos;);

module.exports = {
    entry: &apos;./src/entry/index.js&apos;, // é¡¹ç›®çš„å…¥å£æ–‡ä»¶
    module: {
        rules:[
            {
                test: /\.js$/,
                loader: &apos;babel-loader&apos;,
                exclude: /node_modules/
            },
            {
                test: /\.vue$/,
                loader: &apos;vue-loader&apos;
            },
            {
                test: /\.(sa|sc|c)ss$/,
                use: [
                    &apos;style-loader&apos;,
                    &apos;css-loader&apos;,
                    &apos;postcss-loader&apos;,
                    &apos;sass-loader&apos;
                ]
            },
            {
                test: /\.(png|jpg|svg|gif)$/,
                use: [
                    {
                        loader: &apos;url-loader&apos;,
                        options: {
                            limit: 5000,
                            name: &apos;imgs/[name].[ext]&apos;
                        }
                    }
                ]
            }
        ]
    },
    plugins: [
        new VueLoaderPlugin(),
        // è‡ªåŠ¨å°†é™æ€èµ„æºå¼•å…¥htmlæ–‡ä»¶ä¸­
        new HTMLWebpackPlugin({
            template: path.resolve(__dirname, &apos;../public/index.html&apos;)
        })
    ]
};
</code></pre><p>devServerä¸­æ˜¯å¼€å‘æ—¶æ‰€éœ€çš„é‡è¦é…ç½®ã€‚</p>
<pre><code>// webpack.dev.js
// developmentç¯å¢ƒ

const merge = require(&apos;webpack-merge&apos;),
    common = require(&apos;./webpack.base&apos;),
    path = require(&apos;path&apos;),
    apiMocker = require(&apos;webpack-api-mocker&apos;);

module.exports = merge(common, {
    mode: &apos;development&apos;,
    devtool: &apos;inline-source-map&apos;,
    devServer: {
        // å…¥å£é¡µé¢æ‰€åœ¨æ–‡ä»¶å¤¹
        contentBase: &apos;../public&apos;,
        // å°†æ‰€æœ‰è¯·æ±‚éƒ½æ‰“å›index.htmlï¼Œå› ä¸ºæ­¤å¤„é…ç½®æ˜¯å•é¡µé¢åº”ç”¨
        historyApiFallback: true,
        // æœ¬åœ°mockæ•°æ®é…ç½®ï¼Œmockæ•°æ®é…ç½®åœ¨mocker.jsä¸­
        before: function(app) {
            apiMocker(app, path.resolve(&apos;public/mocker.js&apos;));
        },
        // ç›‘å¬ç«¯å£
        port:8889,
        // å¯åŠ¨åè‡ªåŠ¨æ‰“å¼€ç½‘å€
        open: &apos;http://localhost:8889/&apos;,
        // è®©åŒç½‘åŸŸå…¶ä»–è®¾å¤‡è®¿é—®æœ¬åœ°æœåŠ¡
        host:&apos;0.0.0.0&apos;
    },
    output: {
        filename: &apos;js/[name].[hash:5].js&apos;,
        path: path.resolve(__dirname, &apos;../dist&apos;)
    }
});
</code></pre><p>webpack.prod.jsæ–‡ä»¶ä¸­æ–°å¢äº†å¾ˆå¤šåŒ…ï¼Œä½¿å¾—jså’Œcssæ–‡ä»¶ã€å›¾ç‰‡æ›´åŠ è§„æ•´ç®€æ´ã€‚</p>
<pre><code>// webpack.prod.js
// production
const merge = require(&apos;webpack-merge&apos;),
    common = require(&apos;./webpack.base&apos;),
    path = require(&apos;path&apos;),
    // æ¸…é™¤distæ–‡ä»¶å¤¹
    {CleanWebpackPlugin} = require(&apos;clean-webpack-plugin&apos;),
    // å¤„ç†ã€æ‰“åŒ…cssæ–‡ä»¶ åŠŸèƒ½ç±»ä¼¼style-loader
    MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;),
    // ç”¨äºå‹ç¼©cssæ–‡ä»¶
    OptimizeCSSAssetsPlugin = require(&quot;optimize-css-assets-webpack-plugin&quot;),
    // å‹ç¼©jsæ–‡ä»¶
    UglifyJsPlugin = require(&quot;uglifyjs-webpack-plugin&quot;);

module.exports = merge(common, {
    mode: &apos;production&apos;,
    output: {
        filename: &apos;js/[name].[hash:5].js&apos;,
        path: path.resolve(__dirname, &apos;../dist&apos;)
    },
    optimization: {
        // å°†å¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“æ–‡ä»¶å•ç‹¬æ‰“åŒ…
        splitChunks: {
            // æ‰€æœ‰å¼•å…¥çš„æ–‡ä»¶éƒ½æ‰“åŒ…
            chunks: &apos;all&apos;,
            cacheGroups: {
                vendor: {
                    name: &apos;vendor&apos;,
                    test: /[\\/]node_module[\\/]/,
                    priority: -10,
                    chunks: &apos;initial&apos;
                }
            }
        }
    },
    module: {
        rules: [
            {
                test: /\.js$/,
                loader: &apos;babel-loader&apos;,
                exclude: /node_modules/
            },
            {
                test: /\.vue$/,
                loader: &apos;vue-loader&apos;
            },
            {
                test: /\.(sa|sc|c)ss$/,
                use: [
                    {
                        // ä½¿ç”¨MiniCssExtractPlugin.loaderæ›¿ä»£style-loader
                        loader: MiniCssExtractPlugin.loader,
                        options: {
                            // è§£å†³å›¾ç‰‡è·¯å¾„ä¸å¯¹çš„é—®é¢˜
                            publicPath: &apos;../&apos;
                        }
                    },
                    &apos;css-loader&apos;,
                    &apos;postcss-loader&apos;,
                    &apos;sass-loader&apos;
                ]
            },
            {
                test: /\.(png|jpg|svg|gif)$/,
                use: [
                    {
                        loader: &apos;url-loader&apos;,
                        options: {
                            limit: 10240,
                            name: &apos;imgs/[name].[contenthash:5].[ext]&apos;
                        }
                    },
                    {
                        // å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œé…ç½®é¡¹å‚è€ƒå®˜æ–¹æ–‡æ¡£
                        loader: &apos;image-webpack-loader&apos;,
                        options: {
                            mozjpeg: {
                                progressive: true,
                                quality: 65
                            },
                            optipng: {
                                enabled: false
                            },
                            pngquant: {
                                quality: &apos;65-90&apos;,
                                speed: 4
                            },
                            gifsicle: {
                                interlaced: false
                            },
                            webp: {
                            quality: 75
                            }
                        }
                    }
                ]
            }
        ]
    },
    plugins: [
        new CleanWebpackPlugin(),
        new MiniCssExtractPlugin({
            filename: &apos;css/[name].[hash:5].css&apos;
        }),
        new OptimizeCSSAssetsPlugin(),
        new UglifyJsPlugin({
            uglifyOptions: {
                compress: {
                    // å»é™¤debuggerå’Œconsole
                    drop_debugger: true,
                    drop_console: true
                }
            },
            cache: true,
            parallel: true,
            sourceMap: false
        })
    ]
});
</code></pre><h2 id="ç¼–å†™å…¶ä»–é…ç½®"><a href="#ç¼–å†™å…¶ä»–é…ç½®" class="headerlink" title="ç¼–å†™å…¶ä»–é…ç½®"></a>ç¼–å†™å…¶ä»–é…ç½®</h2><p><code>&quot;presets&quot;</code>å‚æ•°ç”±æ’ä»¶åå’Œå‚æ•°å¯¹è±¡ç»„æˆä¸€ä¸ªæ•°ç»„è¿›è¡Œä¼ é€’ã€‚</p>
<pre><code>// .babelrc
{
    &quot;presets&quot;: [
        [
            &quot;@babel/preset-env&quot;,
            {
                &quot;targets&quot;: {
                    // æ­¤å¤„ä¸ºæµè§ˆå™¨çš„æŸ¥è¯¢æ¡ä»¶
                    // 1%ï¼šåŸºäºå…¨çƒä½¿ç”¨ç‡ç»Ÿè®¡è€Œé€‰æ‹©çš„æµè§ˆå™¨ç‰ˆæœ¬èŒƒå›´
                    // last 2 versionï¼šæ¯ä¸ªæµè§ˆå™¨çš„æœ€è¿‘ä¸¤ä¸ªç‰ˆæœ¬
                    // not ie &lt;= 8ï¼šä¸å°äºç­‰äºie8çš„æµè§ˆå™¨ç‰ˆæœ¬
                    &quot;browsers&quot;: [&quot;&gt; 1%&quot;, &quot;last 2 version&quot;, &quot;not ie &lt;= 8&quot;]
                }
            }
        ]
    ]
}
</code></pre><p>postcsså¢åŠ ä¸åŒæµè§ˆå™¨cssæ ·å¼ç›¸å…³å‰ç¼€ã€‚</p>
<pre><code>// postcss.config.js
module.exports = {
    plugins: [
        require(&apos;autoprefixer&apos;)
    ]
};
</code></pre><p>åœ¨package.jsonä¸­ï¼ŒåŠ å…¥è¿è¡Œå‘½ä»¤ã€‚<br><code>--hot</code>çƒ­åŠ è½½ã€‚å½“ä»£ç æœ‰å˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚<br><code>--open</code>å¯åŠ¨é¡¹ç›®æ—¶ï¼Œè‡ªåŠ¨åœ¨æµè§ˆå™¨æ‰“å¼€ç½‘é¡µã€‚<br><code>--env.NODE_ENV=development</code>è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥åœ¨é¡µé¢ä¸­å–åˆ°å½“å‰æ‰€å¤„çš„ç¯å¢ƒï¼Œè¿›è¡Œä¸åŒçš„è®¾ç½®ã€‚<br><code>--config &lt;filepath&gt;</code>éœ€è¦è¯»å–çš„é…ç½®æ–‡ä»¶è·¯å¾„ã€‚</p>
<pre><code>// package.json
// ...
&quot;scripts&quot;: {
    &quot;start&quot;: &quot;webpack-dev-server --hot --open --env.NODE_ENV=development --config build/webpack.dev.js&quot;,
    &quot;build&quot;: &quot;webpack --env.NODE_ENV=production --config build/webpack.prod.js&quot;
},
// ...
</code></pre><h2 id="ç¼–å†™é¡µé¢ä»£ç "><a href="#ç¼–å†™é¡µé¢ä»£ç " class="headerlink" title="ç¼–å†™é¡µé¢ä»£ç "></a>ç¼–å†™é¡µé¢ä»£ç </h2><pre><code>// index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;/&gt;
        &lt;title&gt;Vue init&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!-- ç•™å‡ºå‘æ¥ç»™Vueå‘æŒ¥ --&gt;
        &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>index.jsæ˜¯è¿æ¥webpackå’ŒVueé¡¹ç›®çš„é‡è¦æ–‡ä»¶ï¼Œåœ¨æ­¤å¯¹Vueé¡¹ç›®è¿›è¡Œä¸€äº›åŸºç¡€é…ç½®å¹¶ä½œä¸ºwebpackæ‰“åŒ…çš„å…¥å£ã€‚</p>
<pre><code>// index.js
import Vue from &apos;vue&apos;;
import VueRouter from &apos;vue-router&apos;;
import axios from &apos;axios&apos;;

import &apos;../style/common.scss&apos;;

import App from &apos;../pages/App.vue&apos;;
import Index from &apos;../pages/Index.vue&apos;;
import List from &apos;../pages/List.vue&apos;;

// å°†VueRouteræ³¨å†Œåˆ°Vueä¸Š
Vue.use(VueRouter);
// å°†axiosæŒ‚è½½åˆ°VueåŸå‹é“¾ä¸Šï¼Œæ–¹ä¾¿ä½¿ç”¨
Vue.prototype.$ajax = axios;

// åˆ›å»ºè·¯ç”±åˆ—è¡¨
const router = new VueRouter({
    routes: [{
            path: &apos;/&apos;,
            component: Index
        },
        {
            path: &apos;/list&apos;,
            component: List
        }
    ]
});

// åˆ›å»ºVueå®ä¾‹
new Vue({
    el: &apos;#app&apos;,
    router,
    render: h =&gt; h(App)
});
</code></pre><p>App.vueä½œä¸ºæ•´ä¸ªé¡¹ç›®å…œåº•çš„é¡µé¢ï¼Œå¯ä»¥å°†å…¬å…±çš„éƒ¨åˆ†éƒ½æå–åˆ°App.vueé¡µï¼Œæ­¤å¤„è¿˜æœ‰ä¸€ä¸ªVueRouterçš„é…ç½®éœ€è¦æ³¨æ„ã€‚</p>
<pre><code>// App.vue

&lt;template&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;myNav&gt;&lt;/myNav&gt;
        &lt;!-- âš ï¸ç»™VueRoutterç•™å‘ï¼ï¼ --&gt;
        &lt;router-view&gt;&lt;/router-view&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
// å¼•å…¥å¯¼èˆªæ ç»„ä»¶
import myNav from &quot;./components/nav.vue&quot;;
export default {
    // æ³¨å†Œç»„ä»¶
    components: {
        myNav
    }
};
&lt;/script&gt;
</code></pre><p>æ¥çœ‹index.vueé¡µé¢ã€‚</p>
<pre><code>// index.vue
&lt;template&gt;
&lt;div id=&quot;index&quot;&gt;
    &lt;h1&gt;hello world!&lt;/h1&gt;
    &lt;p&gt;halo Viola&lt;/p&gt;
    &lt;div v-for=&quot;(img, index) in imgList&quot; :key=&quot;index&quot;&gt;
        &lt;img :src=&quot;img&quot;&gt;
    &lt;/div&gt;
    &lt;div class=&quot;nice-pic&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
    name: &quot;index&quot;,
    data: function() {
        return {
            imgList: []
        };
    },
    mounted() {
        this.$ajax.get(&quot;/api/pictureList&quot;).then(res =&gt; {
            let result = res.data;
            if(result.code !== 200) return;
            this.imgList = result.data;
        });
    }
};
&lt;/script&gt;
</code></pre><p>åœ¨index.vueé¡µé¢ä¸­ç”¨åˆ°äº†å¼‚æ­¥è¯·æ±‚ã€‚å¼‚æ­¥è¯·æ±‚æ˜¯å‰ç«¯å¼€å‘ä¸­æœ€åŸºæœ¬çš„éœ€æ±‚ä¹‹ä¸€ã€‚å¦‚æœå‰ç«¯å¼€å‘è¿˜éœ€è¦ç­‰å¾…æ¥å£å…ˆå¼€å‘å‡ºæ¥ï¼Œé‚£æµªè´¹çš„æ—¶é—´ä¼°è®¡éƒ½èƒ½å®Œæˆå¼€å‘äº†ï¼›æ‰€ä»¥åœ¨æœ¬åœ°mockæ•°æ®æ˜¯å‰ç«¯å¿…å¤‡æŠ€èƒ½ã€‚</p>
<pre><code>// mocker.js

const fs = require(&apos;fs&apos;);

function fromJSONFile(filename) {
  return (req, res) =&gt; {
    // è¯»å–mockæ•°æ®jsonæ–‡ä»¶
    const data = fs.readFileSync(`public/json/${filename}.json`).toString();
    // è§£æjsonæ–‡ä»¶
    const json = JSON.parse(data);
    return res.json(json);
  };
}

const proxy = {
    // æ ¼å¼ï¼š&apos;è¯·æ±‚å¤´ è¯·æ±‚è·¯å¾„&apos;
    &apos;GET /api/pictureList&apos;: fromJSONFile(&apos;pictureList&apos;)
};

module.exports = proxy;
</code></pre><p>é¡µé¢æ ·å¼é€šè¿‡å•ç‹¬çš„scssæ–‡ä»¶ç¼–å†™(ä¸ºä»€ä¹ˆè¦å•ç‹¬ç¼–å†™æ ·å¼ï¼Ÿè§ä¸‹æ–‡ <em>é‡åˆ°çš„é—®é¢˜</em> )</p>
<pre><code>// common.scss
// å¼•å…¥å„ä¸ªé¡µé¢çš„æ ·å¼
@import &apos;./app.scss&apos;;
@import &apos;./index.scss&apos;;
@import &apos;./nav.scss&apos;;
</code></pre><p>æ­¤å¤„ä»…åˆ—ä¸¾index.scssä½œä¸ºç¤ºä¾‹ã€‚</p>
<pre><code>// index.scss

// sassè¯­æ³•
$width: 50rem;

#index {
    margin-top: 60px;
    // postcsså°†è‡ªåŠ¨æ·»åŠ å‰ç¼€
    transform: rotate(0deg);
    img {
        width: $width;
    }
    .nice-pic {
        width: 80%;
        height: $width;
        margin: 0 auto;
        // èƒŒæ™¯å›¾å¼•å…¥ï¼Œå°äº10kbå°†è¢«ç¼–è¯‘æˆbase64
        background: url(&apos;../imgs/1.jpg&apos;);
    }
}
</code></pre><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><h3 id="æå–Vueæ–‡ä»¶ä¸­çš„Css"><a href="#æå–Vueæ–‡ä»¶ä¸­çš„Css" class="headerlink" title="æå–Vueæ–‡ä»¶ä¸­çš„Css"></a>æå–Vueæ–‡ä»¶ä¸­çš„Css</h3><p>å› ä¸ºVueæ–‡ä»¶ä¸­çš„æ ·å¼ä»£ç ä¼šé»˜è®¤æ‰“åŒ…è¿›jsä¸­ï¼Œå› è€Œç”Ÿæˆçš„jsæ–‡ä»¶éå¸¸åºå¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¦–å±åŠ è½½é€Ÿåº¦éå¸¸æ…¢ï¼Œç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒï¼Œæ‰€ä»¥æ‰§å¿µçš„æƒ³è¦æŠŠæ ·å¼æ–‡ä»¶åˆ†ç¦»å‡ºæ¥ã€‚åœ¨ç½‘ä¸Šæœç´¢äº†å¥½åŠå¤©ï¼Œæ‰¾åˆ°äº†å®˜æ–¹æ–‡æ¡£ä»¥åŠæ°‘é—´æ–¹æ¡ˆï¼Œä½†æ˜¯ä¸€ä¸€å°è¯•ä¹‹åéƒ½æ²¡æœ‰è¾¾åˆ°æ•ˆæœã€‚è€ƒè™‘åˆ°è¿™å¯èƒ½æ˜¯webpack 4åŠç›¸å…³åŒ…å®ç°çš„é—®é¢˜ï¼Œå› è€Œä¸æƒ³å†åœ¨è¿™ä¸ªé—®é¢˜ä¸Šçº ç»“ï¼Œä¾¿é€‰æ‹©äº†Plan Bã€‚</p>
<p><strong>Plan B</strong>å³å°†æ ·å¼æ–‡ä»¶æ”¾åˆ°styleæ–‡ä»¶å¤¹ä¸­ï¼Œå°±å„ä¸ªé¡µé¢å•ç‹¬ä¸€ä¸ªæ ·å¼æ–‡ä»¶è¿›è¡Œç»´æŠ¤ï¼Œå†å¼•å…¥enrty/index.jsä¸­è¿›è¡Œç¼–è¯‘ï¼Œæ­¤æ–¹æ¡ˆå¯ä»¥è¾¾æˆcsså’Œjsåˆ†ç¦»çš„ç›®çš„ã€‚</p>
<p>åœ¨ä¸‹æ–¹è¿˜æ˜¯æ”¾å‡ºæˆ‘åœ¨ç½‘ä¸Šæœç´¢åˆ°çš„å®˜æ–¹+æ°‘é—´æ–¹æ¡ˆï¼Œè¯¸å›è‹¥æ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œå°è¯•ã€‚</p>
<p><a href="https://vue-loader.vuejs.org/zh/guide/extract-css.html#webpack-4" target="_blank" rel="noopener">å®˜æ–¹ç½‘é¡µï¼šCSS æå–</a><br><a href="https://www.jianshu.com/p/b230a69be59b" target="_blank" rel="noopener">æ°‘é—´ç½‘é¡µ: webpack4å®ç°cssæ‰“åŒ…</a></p>
<hr>
<p>å‚è€ƒç½‘é¡µ:</p>
<ul>
<li><a href="https://www.npmjs.com/package/image-webpack-loader" target="_blank" rel="noopener">image-webpack-loader</a></li>
<li><a href="https://www.babeljs.cn/docs/presets" target="_blank" rel="noopener">é¢„è®¾ï¼ˆPresetsï¼‰</a></li>
<li><a href="https://juejin.im/post/5b8cff326fb9a019fd1474d6" target="_blank" rel="noopener">Browserslist</a></li>
</ul>
<p><em>wowï¼ï½å®Œç»“æ’’èŠ±</em> ğŸ‰ğŸ‰ğŸ‰<br><em>è¶ç€è®¾è®¡è¿˜æ²¡ç»™å®šç¨¿ï¼Œæ‘¸é±¼å†™äº†ä»£ç å’Œåšå®¢ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¸šåŠ¡é€»è¾‘å¼€å‘å•¦ï½</em><br><em>æ•¬è¯·æœŸå¾…ï½</em> ğŸ˜‰</p>

        </div>
      </article>
    </div>
    <!-- Comments -->
    <div class="container">
      
<section id="comment">
  <!-- <h1 class="title">Comments</h1> -->

  
</section>


    </div>
    <!-- Pre or Next -->
    <div class="nav-links">
      
        <div class="nav-previous">
          <a href="/2019/06/28/half-year-summary/" rel="prev"><span class="meta-arraw meta-arraw-left"></span> Newer Posts</a>
        </div>
      
      
        <div class="nav-next">
          <a href="/2019/06/23/read-list/" rel="prev">Older Posts <span class="meta-arraw meta-arraw-right"></span></a>
        </div>
      
    </div>
  </div>
</div>


  <!-- Footer -->
  <!-- Footer -->
<footer class="site-info">
  <div class="row inside-wrapper">
    <div class="col-1">
      <aside>
        <div class="widget-text">
          
          
          <a href="https://github.com/zllpCodes" class="icon icon-github" target="_blank">
            github</a>
          
          <a href="mailto: zllmypem@163.com" class="icon icon-mail" target="_blank">
            mail</a>
          
          
        </div>
      </aside>
    </div>
  </div>
  <p>
    <span>
      å¼ ç³ç³ä¸ªäººç½‘ç«™ &copy;
      2020</span>
    
    <span class="split">|</span>
    <span>
      Powered by <a href="https://zhanglinlin.site" target="_blank">Zhang Linlin</a></span>
    
  </p>
</footer>

  <!-- After footer scripts -->
  <!-- scripts -->
<script src="/js/app.js"></script>





</body>

</html>
